doctype html
html(lang='en')
  head
    meta(charset='UTF-8')
    meta(name='viewport', content='width=device-width, initial-scale=1')
    title= title + ' â€” CaddyState'
    link(rel='icon', type='image/svg+xml', href='/public/favicon.svg')
    link(rel='stylesheet', href='/bootstrap/css/bootstrap.min.css')
    link(rel='stylesheet', href='/public/css/site.css')
  body
    nav.navbar.navbar-expand-lg.navbar-dark.bg-dark
      .container-fluid
        a.navbar-brand(href='/') CaddyState
        button.navbar-toggler(type='button', data-bs-toggle='collapse', data-bs-target='#navbarNav', aria-controls='navbarNav', aria-expanded='false', aria-label='Toggle navigation')
          span.navbar-toggler-icon
        #navbarNav.collapse.navbar-collapse
          ul.navbar-nav.me-auto
            if user
              li.nav-item
                a.nav-link(href='/') Dashboard
              li.nav-item
                a.nav-link(href='/caddy/routes') Routes
              li.nav-item
                a.nav-link(href='/caddy/upstreams') Upstreams
              li.nav-item
                a.nav-link(href='/caddy/metrics') Metrics
              if user.role === 'admin'
                li.nav-item
                  a.nav-link(href='/caddy/editor') Config Editor
                li.nav-item
                  a.nav-link(href='/users') Users
                li.nav-item
                  a.nav-link(href='/logs') Logs
          if user
            ul.navbar-nav
              li.nav-item
                span.nav-link.text-secondary= user.username
              li.nav-item
                form(action='/logout', method='POST', class='d-inline')
                  button.btn.btn-outline-light.btn-sm(type='submit') Logout
    .container.mt-4
      if flash
        .alert(class='alert-' + flash.type, role='alert')= flash.message
      block content
    script(src='/bootstrap/js/bootstrap.bundle.min.js')
    script(src='/public/js/sort-table.js')
    block scripts
